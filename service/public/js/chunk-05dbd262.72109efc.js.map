{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/Message.vue","webpack:///./src/views/Message.vue?d73a","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/views/Message.vue?a808"],"names":["$","uncurryThis","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","stringIndexOf","indexOf","target","proto","forced","includes","searchString","this","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","$trim","trim","forcedStringTrimMethod","whitespaces","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","global","TypeError","class","_createElementVNode","_createElementBlock","_hoisted_2","_hoisted_3","_createVNode","_component_el_input","type","rows","placeholder","$data","$event","maxlength","show-word-limit","onClick","$options","_Fragment","_renderList","item","index","key","_hoisted_7","_component_el_button","_id","src","_ctx","authur","phtoto","_toDisplayString","user","date","content","likes","childen","childItem","show","isShowReley","size","replyComment","replyUser","data","textarea","isShow","arrEmoji","arrMessage","computed","mapState","methods","prnemji","forData","d","Date","YY","getFullYear","MM","getMonth","DD","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","submit","userInfo","$message","error","valMeg","$axios","method","url","code","message","success","getMessage","forEach","console","log","getcommentLikes","commentId","id","submitRelpy","commentReley","releyLikes","pId","cId","childReply","created","__exports__","render","METHOD_NAME","regexp","error1","error2","PROPER_FUNCTION_NAME","PROPER","fails","non","name","$includes","addToUnscopables","el"],"mappings":"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","file":"js/chunk-05dbd262.72109efc.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var global = require('../internals/global');\nvar isRegExp = require('../internals/is-regexp');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","<template>\r\n  <div class=\"about\">\r\n    <article>\r\n      <h2>留言板</h2>\r\n      <p>请文明留言，不然拉黑了</p>\r\n      <el-input\r\n        type=\"textarea\"\r\n        :rows=\"3\"\r\n        placeholder=\"请输入内容\"\r\n        v-model=\"textarea\"\r\n        maxlength=\"100\"\r\n        show-word-limit\r\n      >\r\n      </el-input>\r\n      <div class=\"pubulish\">\r\n        <div class=\"emai-box\">\r\n          <i class=\"iconfont icon-biaoqing\" @click=\"show\"></i>\r\n          <div class=\"emoji\" v-show=\"isShow\">\r\n            <ul>\r\n              <li\r\n                v-for=\"(item, index) in arrEmoji\"\r\n                :key=\"index\"\r\n                @click=\"prnemji(item)\"\r\n              >\r\n                {{ item }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <el-button type=\"primary\" @click=\"submit\">发表评论</el-button>\r\n      </div>\r\n    </article>\r\n    <!-- 回复 -->\r\n    <article class=\"comment-area\">\r\n      <ul>\r\n        <li v-for=\"item in arrMessage\" :key=\"item._id\">\r\n          <!-- 评论(父级/一级) -->\r\n          <div class=\"comment-wrap\">\r\n            <img :src=\"baseUrl + item.authur.phtoto\" />\r\n            <!--用户头像-->\r\n            <div class=\"message-box\">\r\n              <!-- 右侧的盒子 -->\r\n              <div class=\"name-time\">\r\n                <span>{{ item.authur.user }}</span>\r\n                <span>{{ forData(item.date) }}</span>\r\n              </div>\r\n              <p class=\"text\">{{ item.content }}</p>\r\n              <div class=\"like-reply\">\r\n                <i\r\n                  class=\"like iconfont icon-xinaixin\"\r\n                  :class=\"{\r\n                    red: userInfo._id && item.likes.includes(userInfo._id),\r\n                  }\"\r\n                  @click=\"getcommentLikes(item._id)\"\r\n                ></i>\r\n                <span>{{ item.likes.length }}</span>\r\n                <i class=\"iconfont icon-huifu\" @click=\"commentReley(item)\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 回复(子级/二级) -->\r\n          <div\r\n            class=\"reply-wrap\"\r\n            v-for=\"(childItem, index) in item.childen\"\r\n            :key=\"childItem._id\"\r\n          >\r\n            <img :src=\"baseUrl + childItem.authur.phtoto\"/>\r\n            <div class=\"message-box\">\r\n              <div class=\"name-time\">\r\n                <span>{{ childItem.authur.user }}</span>\r\n                <span>{{ forData(childItem.date) }}</span>\r\n              </div>\r\n              <p class=\"text\">@{{}} {{ childItem.content }}</p>\r\n              <div class=\"like-reply\">\r\n                <i\r\n                  class=\"iconfont icon-xinaixin\"\r\n                  :class=\"{\r\n                    red: userInfo._id && childItem.likes.includes(userInfo._id),\r\n                  }\"\r\n                  @click=\"releyLikes(item._id, childItem._id, index)\"\r\n                ></i>\r\n                <span>{{ childItem.likes.length }}</span>\r\n                <i\r\n                  class=\"iconfont icon-huifu\"\r\n                  @click=\"childReply(item, childItem)\"\r\n                ></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 回复框 -->\r\n          <div class=\"print-reply\" :class=\"{ show: item.isShowReley }\">\r\n            <el-input\r\n              size=\"mini\"\r\n              v-model=\"item.replyComment\"\r\n              :placeholder=\"`@${item.replyUser.user}`\"\r\n            ></el-input>\r\n            <el-button type=\"primary\" size=\"mini\" @click=\"submitRelpy(item)\"\r\n              >提交回复</el-button\r\n            >\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      textarea: \"\",\r\n      isShow: false,\r\n      arrEmoji: [\r\n        \"😃\",\r\n        \"😁\",\r\n        \"😂\",\r\n        \"😊\",\r\n        \"🙃\",\r\n        \"🥰\",\r\n        \"😘\",\r\n        \"🤭\",\r\n        \"🤔\",\r\n        \"😏\",\r\n        \"😵\",\r\n        \"😟\",\r\n        \"🙁\",\r\n        \"😳\",\r\n        \"😰\",\r\n        \"😭\",\r\n        \"😖\",\r\n        \"😡\",\r\n        \"😠\",\r\n        \"😈\",\r\n        \"🤡\",\r\n        \"☠️\",\r\n        \"👻\",\r\n        \"🙈\",\r\n        \"🙉\",\r\n        \"❤️\",\r\n        \"💖\",\r\n        \"💢\",\r\n        \"💣\",\r\n        \"💤\",\r\n        \"👋\",\r\n        \"👍\",\r\n        \"👌\",\r\n        \"🤞\",\r\n        \"🤟\",\r\n        \"🤙\",\r\n        \"👊\",\r\n        \"🖕\",\r\n        \"🤝\",\r\n        \"🙏\",\r\n        \"🙅\",\r\n        \"🙅‍♂️\",\r\n        \"👨‍✈️\",\r\n        \"👩‍✈️\",\r\n        \"👷\",\r\n        \"👷‍♀️\",\r\n        \"🤦\",\r\n        \"🤦‍♂️\",\r\n        \"👴\",\r\n        \"🧓\",\r\n        \"🐴\",\r\n        \"🐮\",\r\n        \"🐖\",\r\n        \"🐑\",\r\n        \"🐓\",\r\n        \"🦚\",\r\n        \"🐲\",\r\n        \"🐳\",\r\n        \"🐟\",\r\n        \"🐌\",\r\n      ],\r\n      arrMessage: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n  },\r\n  methods: {\r\n    show() {\r\n      this.isShow = !this.isShow; //显示或者关闭表情框\r\n    },\r\n    prnemji(item) {\r\n      this.textarea += item;\r\n    },\r\n    //时间格式转换\r\n    forData(date) {\r\n      let d = new Date(date),\r\n        YY = d.getFullYear(),\r\n        MM = d.getMonth() + 1,\r\n        DD = d.getDate(),\r\n        hh = d.getHours(),\r\n        mm = d.getMinutes(),\r\n        ss = d.getSeconds();\r\n      return `${YY}-${MM}-${DD} ${hh}:${mm}:${ss}`;\r\n    },\r\n    //发表评论\r\n    async submit() {\r\n      //发起请求\r\n      if (!this.userInfo.user) return this.$message.error(\"请先登录\");\r\n      let valMeg = this.textarea.trim();\r\n      if (!valMeg) return this.$message.error(\"留言内容不能为空\"); //去掉空格   空格也算字符串\r\n      //将数据发送到后端\r\n      let { data } = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/msg/pubulish\",\r\n        data: { valMeg },\r\n      });\r\n      if (data.code) return this.$message.error(data.message); //发表失败\r\n      this.$message.success(data.message); //发表成功\r\n      this.textarea = \"\"; //发表完成后清空输入框  ·\r\n    },\r\n    //发起请求，获取所有留言数据\r\n    async getMessage() {\r\n      let { data } = await this.$axios({\r\n        method: \"GET\",\r\n        url: \"/getdata/msg\",\r\n      });\r\n\r\n      data.data.forEach((item) => {\r\n        item.isShowReley = false; //控制当前这条评论下面的回复或者隐藏\r\n        item.replyComment = \"\"; //控制当前评论框下input\r\n        item.replyUser = item.authur; //子级评论的父级id\r\n      });\r\n      this.arrMessage = data.data; //将data。data赋值给数组\r\n      console.log(data);\r\n    },\r\n    //给父级评论点赞\r\n    async getcommentLikes(commentId) {\r\n      if (!this.userInfo.user) return this.$message.error(\"请先登录\");\r\n      let { data } = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/msg/likes/comment\",\r\n        data: { id: commentId }, //将评论的id传给后端\r\n      });\r\n      // console.log(data);\r\n      if (data.code) return this.$message.error(data.message); //发表失败\r\n      //点赞成功\r\n      this.$message.success(data.message);\r\n      this.getMessage(); //重新获取全部数据\r\n    },\r\n    //提交子级评论到后端\r\n    async submitRelpy(item) {\r\n      if (!this.userInfo.user) return this.$message.error(\"请先登录\");\r\n      /*提交回复内容\r\n      子回复的内容\r\n      子回复的作者id\r\n      */\r\n      let content = item.replyComment.trim();\r\n      if (!content) return this.$message.error(\"请输入回复的内容\");\r\n      if (content.length > 100)\r\n        return this.$message.error(\"回复的内容字数不能超过100\");\r\n      let { data } = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/msg/reply/submit\",\r\n        data: {\r\n          id: item._id, //被评论的作者id\r\n          content, //回复的内容\r\n          replyUser: item.replyUser._id, //父级评论的作者id a回复的b 这是b\r\n        },\r\n      });\r\n      //回复失败\r\n      if (data.code) return this.$message.error(data.message);\r\n      //回复成功\r\n      this.$message.success(data.message);\r\n      this.getMessage(); //也需要重新的获取数据\r\n    },\r\n    //父级回复显示/隐藏\r\n    async commentReley(item) {\r\n      //item父级评论数据对象\r\n      if (!this.userInfo.user) return this.$message.error(\"请先登录\");\r\n      // item.isShowReley = !item.isShowReley; //显示/隐藏 回复框\r\n      //判断一级评论的作者 是否 不等于存储里 replyuser的用户id\r\n      if(item.authur._id !==item.replyUser._id){\r\n        item.isShowReley;\r\n      }else{\r\n      item.isShowReley = !item.isShowReley;//点击显示或者隐藏\r\n\r\n      }\r\n      //点击时 显示你要回复谁 \r\n      item.replyUser = item.authur\r\n    },\r\n    //点击子级回复的点赞功能\r\n    async releyLikes(pId, cId, index) {\r\n      //传过来三个参数  父级id 子级id 子级回复在chireden中的下标\r\n      if (!this.userInfo.user) return this.$message.error(\"请先登录\");\r\n      let { data } = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/msg/likes/repaly\",\r\n        data: { pId, cId, index },\r\n      });\r\n      console.log(data);\r\n      //回复失败\r\n      if (data.code) return this.$message.error(data.message);\r\n      this.getMessage(); //重新获取数据\r\n    },\r\n\r\n    //点击子级回复的回复按钮/  显示/应藏\r\n    childReply(item, childItem) {\r\n      if (!this.userInfo.user) return this.$message.error(\"请先登录\");\r\n\r\n      //判断当前,当前点击了按钮的用户是不是父子级都是同一个人\r\n      if(childItem.authur._id !==item.replyUser._id){\r\n        item.isShowReley;\r\n      }else{\r\n      item.isShowReley = !item.isShowReley;//点击显示或者隐藏\r\n\r\n      }\r\n      //点击时 显示你要回复谁 \r\n      item.replyUser = childItem.authur\r\n    },\r\n  },\r\n  created() {\r\n    this.getMessage();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\narticle {\r\n  width: 100%;\r\n  margin-bottom: 15px;\r\n  padding: 25px 20px;\r\n  background-color: #fff;\r\n  font-family: Quicksand, Microsoft YaHei, sans-serif;\r\n  box-sizing: border-box;\r\n  box-shadow: 0 0 4px #ddd;\r\n  h2 {\r\n    margin-bottom: 15px;\r\n    font-size: 20px;\r\n    letter-spacing: 3px;\r\n    line-height: 24px;\r\n    border-left: 5px solid #73b899;\r\n    text-indent: 10px;\r\n  }\r\n  p {\r\n    text-indent: 2em;\r\n    color: #444;\r\n    font-size: 14px;\r\n    letter-spacing: 4px;\r\n    line-height: 30px;\r\n  }\r\n  .pubulish {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-top: 10px;\r\n    .emai-box {\r\n      position: relative;\r\n      .emoji {\r\n        position: absolute;\r\n        top: 30px;\r\n        background-color: #fff;\r\n        ul {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          width: 250px;\r\n          li {\r\n            height: 25px;\r\n            width: 25px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\narticle.comment-area {\r\n  ul li {\r\n    padding-bottom: 5px;\r\n    margin-bottom: 10px;\r\n    border-bottom: 1px dashed #ddd;\r\n    font-size: 12px;\r\n    font-family: Microsoft YaHei, \"sans-serif\";\r\n    .reply-wrap {\r\n      margin: 10px 8px 8px 55px;\r\n    }\r\n    .comment-wrap,\r\n    .reply-wrap {\r\n      //评论\r\n      display: flex;\r\n      img {\r\n        width: 40px;\r\n        height: 40px;\r\n        margin-right: 15px;\r\n        border-radius: 50%;\r\n      }\r\n      .message-box {\r\n        .name-time {\r\n          font-size: 12px;\r\n          margin-bottom: 3px;\r\n          span:nth-child(1) {\r\n            color: #73b899;\r\n          }\r\n          span:nth-child(2) {\r\n            color: #aaa;\r\n            margin-left: 10px;\r\n          }\r\n        }\r\n        p.text {\r\n          text-indent: 0;\r\n          color: #666;\r\n          letter-spacing: 2px;\r\n          margin-bottom: 3px;\r\n          word-break: break-word;\r\n        }\r\n        .like-reply {\r\n          i {\r\n            cursor: pointer;\r\n            font-size: 14px;\r\n            color: #aaa;\r\n          }\r\n          .red {\r\n            color: red;\r\n          }\r\n          span {\r\n            margin-right: 40px;\r\n            font-size: 12px;\r\n            color: #aaa;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // 回复框\r\n    .print-reply {\r\n      overflow: hidden;\r\n      width: 100%;\r\n      height: 0;\r\n      padding-left: 55px;\r\n      box-sizing: border-box;\r\n      transition: height 0.2s;\r\n      &.show {\r\n        height: 60px;\r\n      }\r\n      .el-button {\r\n        float: right;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./Message.vue?vue&type=template&id=193fc76d&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\n\nimport \"./Message.vue?vue&type=style&index=0&id=193fc76d&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\chenx\\\\Desktop\\\\blog\\\\vue_demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-193fc76d\"]])\n\nexport default __exports__","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Message.vue?vue&type=style&index=0&id=193fc76d&lang=less&scoped=true\""],"sourceRoot":""}